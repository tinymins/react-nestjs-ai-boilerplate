# ======================================
# Docker Compose 环境变量
# ======================================
# 本文件用于 Docker Compose 配置
# 本地开发环境请配置各子包的 .env 文件

# PostgreSQL 数据库配置
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=apps_db

# ======================================
# 端口配置（宿主机映射端口）
# ======================================
# 容器内部端口固定不变（nginx:80, server:4000, postgres:5432）
# 以下仅控制宿主机暴露的端口号，防止端口冲突

# 前端端口（Nginx → 宿主机）
WEB_PORT=8080

# ======================================
# 调试端口暴露（可选）
# ======================================
# 默认仅前端暴露端口，后端和数据库通过 Docker 内网通信
# 前端 Nginx 代理 /trpc 到 server:4000，后端连接 db:5432
#
# 如需直接访问后端 API 或用数据库工具连接调试，取消以下注释：
# COMPOSE_FILE=docker-compose.yml:docker-compose.debug.yml
# SERVER_PORT=4000
# DB_PORT=5432
