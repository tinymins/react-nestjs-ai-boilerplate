# ======================================
# Docker Compose 环境变量
# ======================================
# 本文件用于 Docker Compose 配置
# 本地开发环境请配置各子包的 .env 文件

# PostgreSQL 数据库配置
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=apps_db

# ======================================
# 端口配置（宿主机映射端口）
# ======================================
# 容器内部端口固定不变（nginx:80, server:4000, postgres:5432）
# 以下仅控制宿主机暴露的端口号，防止端口冲突

# 前端端口（Nginx → 宿主机）
WEB_PORT=8080

# 后端 API 端口（NestJS → 宿主机）
# 注意：前端 Nginx 通过 Docker 内网代理 /trpc 到 server:4000，不经过宿主机端口
# 此端口主要用于直接访问后端 API 或调试
SERVER_PORT=4000

# 数据库端口（PostgreSQL → 宿主机）
# 注意：后端通过 Docker 内网连接 db:5432，不经过宿主机端口
# 此端口主要用于外部数据库工具连接调试，如不需要可注释掉
DB_PORT=5432
